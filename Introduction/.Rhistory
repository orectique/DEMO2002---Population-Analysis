## R tutorial 1 - Getting started with R
## Student copy
## DEMO2002 - Population dynamics
## 22-Feb-2023
## Welcome to the magical world of R
## It's a calculator, a spreadsheet, a painter, and many more.
#### vectors ####
## Objects
a <- 5
##   Vectors (are made of elements that are all
##   of the same type, for example characters,
##   numbers,...)
vec1 <- c(1,2,3)
## must of the same type
## notice the indicator ("num","int","chr")
## what if we don't do numbers, it's called strings
vec2 <- c("CBR","CDR","CRNM")
vec2 <- c(1, "pi", pi)
## if there is a difference like above,
## R will coerce it to "chr"
## there is more than one way to constitute vectors
vec1 <- c(1,2,3)
## or
vec1 <- 1:5
## Sequence function: create a vector from 0 to 25
## with a distance of 5 between each element
vec4 <- seq(from=0, to=25, by=5)
## Repeat function: repeat the number 5 for 7 times
vec3 <-  rep(3, 7)
## also works for characters
vec3 <- rep("pi", 3)
#### Data Frames ####
##  We cannot put numbers and characters together in vectors.
##  But we can with data.frame
setwd("D:/GitHub/DEMO2002/Introduction")
## You can also set the working directory by going to: session >
## set working directory > choose working directory
## import data
data <- read.table("population.txt", header = TRUE, sep = ",")
## For importing text files
## header is to incorporate column names,
## skip is to avoid title,
## sep is to separate value.
data
##  This is a data.frame, it contains vector for each column
##  Think of it intuitively as an table.
## extract vectors from data frame
Country <- data$Country
Pt1 <- data$Pt1
#### Calculations ####
##  Balance equation
##  Compute Pt2
B <- data$B
D <-  data$D
M <- data$M
Pt2 <- Pt1+B-D+M
data$Pt2 <- Pt2
## Move on to rates
## Person years = Exposure
PY <- (data$Pt2 + data$Pt1)/2
## Crude growth rates (CGR)
CGR <- (data$Pt2 - data$Pt1)/PY
## Crude birth rates (CBR)
CBR <- data$B/PY
## Crude death rates (CDR)
CDR <- data$D/PY
## Crude rate of natural increase (CRNI)
CRNI <- (CBR - CDR)
## Crude net migration rate (CRNM)
CRNM <- data$M/PY
#### data presentation ####
barplot(CBR,names.arg = data$Country,col=c(1:3))
#### recap! ####
## 1. What is a data.frame?
## 2. How to read data?
## 3. How to do calculation with vectors?
## 4. barplot!
title(main = "Crude Birth Rate", xlab = "Country", ylab = "Crude Birth Rate")
install.packages("tinytex")
tinytex::install_tinytex()
## R tutorial 1 - Getting started with R
## Student copy
## DEMO2002 - Population dynamics
## 22-Feb-2023
## Welcome to the magical world of R
## It's a calculator, a spreadsheet, a painter, and many more.
#### vectors ####
## Objects
a <- 5
##   Vectors (are made of elements that are all
##   of the same type, for example characters,
##   numbers,...)
vec1 <- c(1,2,3)
## must of the same type
## notice the indicator ("num","int","chr")
## what if we don't do numbers, it's called strings
vec2 <- c("CBR","CDR","CRNM")
vec2 <- c(1, "pi", pi)
## if there is a difference like above,
## R will coerce it to "chr"
## there is more than one way to constitute vectors
vec1 <- c(1,2,3)
## or
vec1 <- 1:5
## Sequence function: create a vector from 0 to 25
## with a distance of 5 between each element
vec4 <- seq(from=0, to=25, by=5)
## Repeat function: repeat the number 5 for 7 times
vec3 <-  rep(3, 7)
## also works for characters
vec3 <- rep("pi", 3)
#### Data Frames ####
##  We cannot put numbers and characters together in vectors.
##  But we can with data.frame
setwd("D:/GitHub/DEMO2002/Introduction")
## You can also set the working directory by going to: session >
## set working directory > choose working directory
## import data
data <- read.table("population.txt", header = TRUE, sep = ",")
## For importing text files
## header is to incorporate column names,
## skip is to avoid title,
## sep is to separate value.
data
##  This is a data.frame, it contains vector for each column
##  Think of it intuitively as an table.
## extract vectors from data frame
Country <- data$Country
Pt1 <- data$Pt1
#### Calculations ####
##  Balance equation
##  Compute Pt2
B <- data$B
D <-  data$D
M <- data$M
Pt2 <- Pt1+B-D+M
data$Pt2 <- Pt2
## Move on to rates
## Person years = Exposure
PY <- (data$Pt2 + data$Pt1)/2
## Crude growth rates (CGR)
CGR <- (data$Pt2 - data$Pt1)/PY
## Crude birth rates (CBR)
CBR <- data$B/PY
## Crude death rates (CDR)
CDR <- data$D/PY
## Crude rate of natural increase (CRNI)
CRNI <- (CBR - CDR)
## Crude net migration rate (CRNM)
CRNM <- data$M/PY
#### data presentation ####
barplot(CBR,names.arg = data$Country,col=c(1:3))
title(main = "Crude Birth Rate", xlab = "Country", ylab = "Crude Birth Rate")
#### recap! ####
## 1. What is a data.frame?
## 2. How to read data?
## 3. How to do calculation with vectors?
## 4. barplot!
CBR
